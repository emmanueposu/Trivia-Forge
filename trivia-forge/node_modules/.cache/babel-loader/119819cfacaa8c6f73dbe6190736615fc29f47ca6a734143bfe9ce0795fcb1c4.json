{"ast":null,"code":"/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */\nexport const allSettledWithThrow = async promises => {\n  const results = await Promise.allSettled(promises);\n  const rejected = results.filter(result => result.status === 'rejected');\n  if (rejected.length) {\n    for (const result of rejected) {\n      console.error(result.reason);\n    }\n    throw new Error(\"\".concat(rejected.length, \" promise(s) failed - see the above errors\"));\n  }\n  // Note: TS was complaining about using `.filter().map()` here for some reason\n  const values = [];\n  for (const result of results) {\n    if (result.status === 'fulfilled') {\n      values.push(result.value);\n    }\n  }\n  return values;\n};","map":{"version":3,"names":["allSettledWithThrow","promises","results","Promise","allSettled","rejected","filter","result","status","length","console","error","reason","Error","concat","values","push","value"],"sources":["/Users/SammyD/Desktop/Trivia-Forge/trivia-forge/node_modules/openai/src/lib/Util.ts"],"sourcesContent":["/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */\nexport const allSettledWithThrow = async <R>(promises: Promise<R>[]): Promise<R[]> => {\n  const results = await Promise.allSettled(promises);\n  const rejected = results.filter((result): result is PromiseRejectedResult => result.status === 'rejected');\n  if (rejected.length) {\n    for (const result of rejected) {\n      console.error(result.reason);\n    }\n\n    throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n  }\n\n  // Note: TS was complaining about using `.filter().map()` here for some reason\n  const values: R[] = [];\n  for (const result of results) {\n    if (result.status === 'fulfilled') {\n      values.push(result.value);\n    }\n  }\n  return values;\n};\n"],"mappings":"AAAA;;;AAGA,OAAO,MAAMA,mBAAmB,GAAG,MAAUC,QAAsB,IAAkB;EACnF,MAAMC,OAAO,GAAG,MAAMC,OAAO,CAACC,UAAU,CAACH,QAAQ,CAAC;EAClD,MAAMI,QAAQ,GAAGH,OAAO,CAACI,MAAM,CAAEC,MAAM,IAAsCA,MAAM,CAACC,MAAM,KAAK,UAAU,CAAC;EAC1G,IAAIH,QAAQ,CAACI,MAAM,EAAE;IACnB,KAAK,MAAMF,MAAM,IAAIF,QAAQ,EAAE;MAC7BK,OAAO,CAACC,KAAK,CAACJ,MAAM,CAACK,MAAM,CAAC;;IAG9B,MAAM,IAAIC,KAAK,IAAAC,MAAA,CAAIT,QAAQ,CAACI,MAAM,8CAA2C,CAAC;;EAGhF;EACA,MAAMM,MAAM,GAAQ,EAAE;EACtB,KAAK,MAAMR,MAAM,IAAIL,OAAO,EAAE;IAC5B,IAAIK,MAAM,CAACC,MAAM,KAAK,WAAW,EAAE;MACjCO,MAAM,CAACC,IAAI,CAACT,MAAM,CAACU,KAAK,CAAC;;;EAG7B,OAAOF,MAAM;AACf,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}